================================================================================
empty definition
================================================================================
definition user {}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier)))

================================================================================
empty definition with prefix
================================================================================
definition namespaced/user {}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier)))

================================================================================
empty definition with comment
================================================================================
definition user { /* comment */ }
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier) (comment)))

================================================================================
definition with multi-line docstring
================================================================================
/**
 * user represents a user that can be granted role(s)
 */
definition user {}
--------------------------------------------------------------------------------
(source_file
	(comment)
	(object_definition name: (type_identifier)))

================================================================================
definition with single line docstring
================================================================================
// user represents a user that can be granted role(s)
definition user {}
--------------------------------------------------------------------------------
(source_file
	(comment)
	(object_definition name: (type_identifier)))

================================================================================
two empty definitions
================================================================================
definition user {}
definition document {}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition name: (type_identifier)))

================================================================================
definition with single userset relation
================================================================================
definition user {}
definition document {
  relation creator: user
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (unary_relation_expr
				(userset (field_identifier)))))))

================================================================================
definition with wildcard relation
================================================================================
definition user {}
definition document {
  relation creator: user:*
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (unary_relation_expr
				(userset (wildcard_userset (type_identifier))))))))

================================================================================
definition with reference relation
================================================================================
definition user {}
definition group {
  relation members: user
}
definition document {
  relation creator: group#member
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (unary_relation_expr (userset (field_identifier))))))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (unary_relation_expr
				(reference_userset (type_identifier) (field_identifier)))))))

================================================================================
definition with mutli-userset relation (2)
================================================================================
definition user {}
definition document {
  relation creator: user | user:*
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (binary_relation_expr
				(relation_expr (unary_relation_expr (userset (field_identifier))))
				(relation_expr (unary_relation_expr (userset (wildcard_userset (type_identifier))))))))))

================================================================================
definition with mutli-userset relation (3)
================================================================================
definition bot {}
definition user {}
definition document {
  relation creator: user | user:* | bot
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (binary_relation_expr
				(relation_expr (binary_relation_expr
					(relation_expr (unary_relation_expr (userset (field_identifier))))
					(relation_expr (unary_relation_expr (userset (wildcard_userset (type_identifier)))))))
				(relation_expr (unary_relation_expr (userset (field_identifier)))))))))

================================================================================
definition with nil permission
================================================================================
definition document {
  permission write = nil
}
--------------------------------------------------------------------------------
(source_file
	(object_definition
		name: (type_identifier)
		body: (permission
			name: (field_identifier)
			expr: (permission_expr))))

================================================================================
definition with single userset permission
================================================================================
definition user {}
definition document {
  relation creator: user
  permission write = creator
}
--------------------------------------------------------------------------------
(source_file
	(object_definition name: (type_identifier))
	(object_definition
		name: (type_identifier)
		body: (relation
			name: (field_identifier)
			expr: (relation_expr (unary_relation_expr
				(userset (field_identifier)))))
		body: (permission
			name: (field_identifier)
			expr: (permission_expr (unary_permission_expr
				(userset (field_identifier))))))) 